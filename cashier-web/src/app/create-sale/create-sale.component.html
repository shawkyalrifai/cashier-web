<div class="container mt-5">
  <div class="card p-4 shadow">
    <h2 class="mb-4 text-center">Create Sale</h2>

    <div class="mb-3 row align-items-center">
      <label class="col-sm-2 col-form-label">Cashier ID:</label>
      <div class="col-sm-4">
        <input type="number" [(ngModel)]="cashierId" class="form-control" />
      </div>
    </div>

    <table class="table table-hover table-bordered">
      <thead class="table-light">
        <tr>
          <th>Product Name</th>
          <th>Stock</th>
          <th>Price</th>
          <th style="width: 120px;">Quantity</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <td>{{ product.name }}</td>
      
          <!-- Stock Column -->
          <td>
            <ng-container *ngIf="product.stock > 0; else outOfStock">
              {{ product.stock }}
            </ng-container>
            <ng-template #outOfStock>
              <span class="text-danger">‚ùå Product not found (Out of stock)</span>
            </ng-template>
          </td>
      
          <!-- Price Column -->
          <td>{{ product.price | currency }}</td>
      
          <!-- Quantity Column -->
          <td>
            <input
              type="number"
              class="form-control"
              [(ngModel)]="product.quantity"
              [max]="product.stock"
              min="0"
              [disabled]="product.stock === 0"
              [ngClass]="{'bg-danger-subtle border-danger': product.stock === 0}"
            />
          </td>
        </tr>
      </tbody>
    </table>

    <div class="d-flex justify-content-end">
      <button class="btn btn-success" (click)="submitSale()">Submit Sale</button>
    </div>
  </div>
</div>
